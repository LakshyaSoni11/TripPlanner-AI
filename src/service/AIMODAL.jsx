import { GoogleGenerativeAI } from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
  
    export  const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget. Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a JSON formatted travel plan for a 3-day, budget-friendly couple's trip to Las Vegas, along with hotel options and a suggested itinerary.  This plan emphasizes free or low-cost activities and affordable dining.\n\n```json\n{\n  \"tripName\": \"Las Vegas Budget Getaway for Couples (3 Days)\",\n  \"budget\": \"Cheap\",\n  \"travelers\": \"Couple\",\n  \"location\": \"Las Vegas, Nevada\",\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": 40,\n      \"hotelImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/17/3f/9a/5f/circus-circus-hotel-casino.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1243,\n        \"longitude\": -115.1752\n      },\n      \"rating\": 3.5,\n      \"description\": \"Known for its affordability and family-friendly atmosphere, Circus Circus offers basic accommodations and free circus acts.  It's further north on the Strip, but still accessible to many attractions.\"\n    },\n    {\n      \"hotelName\": \"Stratosphere Hotel, Casino & Tower\",\n      \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": 50,\n      \"hotelImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/1b/97/f7/28/exterior.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1473,\n        \"longitude\": -115.1556\n      },\n      \"rating\": 3.5,\n      \"description\": \"Offers affordable rooms and the iconic Stratosphere Tower with thrill rides and observation decks (tower access is an extra cost).  Located at the north end of the Strip.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": 60,\n      \"hotelImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/11/c5/7c/3a/excalibur-hotel-casino.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0983,\n        \"longitude\": -115.1743\n      },\n      \"rating\": 4.0,\n      \"description\": \"Themed after a medieval castle, Excalibur offers budget-friendly rooms and is conveniently located at the south end of the Strip. It's connected to Luxor and Mandalay Bay by walkways and a tram.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the South Strip & Free Attractions\",\n      \"bestTimeToVisit\": \"Morning & Evening\",\n      \"plan\": [\n        {\n          \"placeName\": \"Welcome to Las Vegas Sign\",\n          \"placeDetails\": \"Iconic sign for a photo opportunity. Free.\",\n          \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/1b/a1/7c/57/welcome-to-fabulous.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0828,\n            \"longitude\": -115.1731\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"timeTravel\": \"15 minutes (from Excalibur, depending on transportation)\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Stunning floral displays that change seasonally.  Free.\",\n          \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/1c/a5/67/e2/bellagio-conservatory.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1127,\n            \"longitude\": -115.1743\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.8,\n          \"timeTravel\": \"20 minutes (from Welcome Sign, using bus or walking)\"\n        },\n        {\n          \"placeName\": \"Fountains of Bellagio\",\n          \"placeDetails\": \"Spectacular water show set to music.  Free.\",\n          \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/1c/a5/67/e3/bellagio-fountains.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1129,\n            \"longitude\": -115.1741\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.9,\n          \"timeTravel\": \"On location with Conservatory\"\n        },\n        {\n          \"placeName\": \"Walk the Strip\",\n          \"placeDetails\": \"Enjoy the sights and sounds of the Las Vegas Strip.  People-watching is free!\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/dd/The_Strip_at_night_Las_Vegas.jpg/1280px-The_Strip_at_night_Las_Vegas.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1146,\n            \"longitude\": -115.1728\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.6,\n          \"timeTravel\": \"Variable, depending on how much you walk\"\n        },\n         {\n          \"placeName\": \"Luxor Light Beam\",\n          \"placeDetails\": \"Luxor hotel has the brightest light on earth which can be seen from space.\",\n          \"placeImageUrl\": \"https://handluggageonly.co.uk/wp-content/uploads/2015/07/Hand-Luggage-Only-12-Amazing-Facts-About-Las-Vegas-Luxor-Sky-Beam-1.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0955,\n            \"longitude\": -115.1759\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.4,\n          \"timeTravel\": \"10 minutes (from Walk the strip, using bus or walking)\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown Las Vegas & Fremont Street Experience\",\n      \"bestTimeToVisit\": \"Afternoon & Evening\",\n      \"plan\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"Light show on a massive video screen canopy.  Free to walk around.\",\n          \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/1c/e9/72/24/fremont-street-experience.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1701,\n            \"longitude\": -115.1422\n          },\n          \"ticketPricing\": \"Free (activities/zip lines are extra)\",\n          \"rating\": 4.7,\n          \"timeTravel\": \"30 minutes (from the Strip, using the Deuce bus or rideshare)\"\n        },\n        {\n          \"placeName\": \"Downtown Container Park\",\n          \"placeDetails\": \"Unique shopping and dining area built from shipping containers.  Free to enter.\",\n          \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/0a/3a/17/81/downtown-container-park.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1685,\n            \"longitude\": -115.1404\n          },\n          \"ticketPricing\": \"Free Entry (prices vary for shopping/dining)\",\n          \"rating\": 4.3,\n          \"timeTravel\": \"5 minute walk from Fremont Street\"\n        },\n        {\n          \"placeName\": \"Neon Museum Boneyard (Optional - Exterior View)\",\n          \"placeDetails\": \"See vintage Las Vegas signs (consider just viewing from the outside to save money).\",\n          \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/0e/8c/bb/09/neon-museum.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1763,\n            \"longitude\": -115.1404\n          },\n          \"ticketPricing\": \"$30+ for guided tour (optional)\",\n          \"rating\": 4.6,\n          \"timeTravel\": \"10 minute walk from Container Park\"\n        },\n        {\n          \"placeName\": \"Watch Free Live Music\",\n          \"placeDetails\": \"Many bars and casinos on Fremont Street offer free live music, especially in the evenings.\",\n          \"placeImageUrl\": \"https://downtownsummerlin.com/wp-content/uploads/2018/03/dtsl-live-music-blog.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1701,\n            \"longitude\": -115.1422\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.2,\n          \"timeTravel\": \"On location with Fremont Street Experience\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"High Roller Observation Wheel & Ethel M Chocolate Factory\",\n      \"bestTimeToVisit\": \"Afternoon & Evening\",\n      \"plan\": [\n        {\n          \"placeName\": \"LINQ Promenade\",\n          \"placeDetails\": \"Outdoor shopping, dining, and entertainment district leading to the High Roller.\",\n          \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/10/d2/c9/f0/the-linq-promenade.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1167,\n            \"longitude\": -115.1694\n          },\n          \"ticketPricing\": \"Free to walk around (activities/dining extra)\",\n          \"rating\": 4.4,\n          \"timeTravel\": \"20 minutes (from Downtown, using the Deuce bus or rideshare)\"\n        },\n        {\n          \"placeName\": \"High Roller Observation Wheel (Optional)\",\n          \"placeDetails\": \"Giant observation wheel with great views of the city.\",\n          \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/11/6b/29/8b/high-roller-observation.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1165,\n            \"longitude\": -115.1689\n          },\n          \"ticketPricing\": \"$25-37 depending on time of day/discounts (optional)\",\n          \"rating\": 4.5,\n          \"timeTravel\": \"On location with LINQ Promenade\"\n        },\n        {\n          \"placeName\": \"Ethel M Chocolate Factory & Cactus Garden\",\n          \"placeDetails\": \"Free chocolate factory tour and beautiful cactus garden.\",\n          \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/16/a4/81/28/ethel-m-chocolates-factory.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0564,\n            \"longitude\": -115.0603\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.6,\n          \"timeTravel\": \"20 minutes (from High Roller using rideshare)\"\n        },\n        {\n          \"placeName\": \"Sunset Viewing (Optional)\",\n          \"placeDetails\": \"Find a nice spot to watch the sunset over the mountains.  The High Roller or a rooftop bar (check for happy hour deals) would be good options.\",\n          \"placeImageUrl\": \"https://www.jetsetter.com/uploads/cards/47670/mobile_sunset-cocktail-bars-vegas-the-stratosphere-tower_sbe_hotels.jpeg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1146,\n            \"longitude\": -115.1728\n          },\n          \"ticketPricing\": \"Free (unless you choose a paid location like a bar)\",\n          \"rating\": 4.3,\n          \"timeTravel\": \"Variable, depending on location\"\n        }\n      ]\n    }\n  },\n  \"budgetTips\": [\n    \"Take advantage of free attractions like the Bellagio fountains and conservatory, the Fremont Street Experience, and the Ethel M Chocolate Factory.\",\n    \"Walk or use the Deuce bus to get around. Avoid taxis and rideshares when possible.\",\n    \"Look for happy hour deals for drinks and appetizers.\",\n    \"Consider bringing snacks and drinks to avoid buying them on the Strip.\",\n    \"If you gamble, set a budget and stick to it.\",\n    \"Pack comfortable shoes, sunscreen, and a hat.\"\n  ],\n  \"notes\": \"This is just a suggested itinerary.  Feel free to customize it to your interests.  Check the websites of attractions for current hours and prices.  Have a great trip!\"\n}\n```\n\n**Key Considerations for Budget Travel:**\n\n*   **Transportation:** The Deuce bus is a cost-effective way to get around the Strip and downtown.  Walking is also a good option, but distances can be long.\n*   **Food:**  Look for affordable dining options like fast food, food courts, or grocery stores.  Happy hour deals can save you money on drinks and appetizers.\n*   **Gambling:** If you plan to gamble, set a budget and stick to it. Consider low-stakes games or avoiding gambling altogether.\n*   **Flexibility:** Be open to changing your plans if you find better deals or discover other free activities.\n\nThis plan aims to provide a balance of iconic Las Vegas experiences and budget-friendly activities, allowing you to enjoy your trip without breaking the bank. Remember to check for updated hours and pricing before you go!\n"},
          ],
        },
      ],
    });
  


  
